<html>
	<head>
		<title>Cell War</title>
		<style>
			body {
				margin: 0;
				width: 100vw;
				height: 90vh;
			}
			#divpop {
				line-height: 1.5;
				font-family: 'Press Start 2P', cursive;
				/* border-radius: 20px; */
  				border: 3px solid white;
			}
		</style>
		<link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
	</head>

	<body>
		<script type="text/javascript" src="js/three.min.js"></script>
		<script type="text/javascript" src="js/GLTFLoader.js"></script>
		<script type="text/javascript" src="js/OrbitControls.js"></script>		
		<script type="text/javascript" src="cells.js"></script>

		<!-- <script src="https://cdn.jsdelivr.net/npm/three@0.115/build/three.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/three@0.115/examples/js/loaders/GLTFLoader.js"></script>
		<script src="http://dreamplan7.cafe24.com/canvas2/js/OrbitControls.js"></script>
		<script src="http://dreamplan7.cafe24.com/canvas2/js/ColladaLoader.js"></script>		
		<script src="http://dreamplan7.cafe24.com/canvas2/js/Sky.js"></script> -->

		<canvas id="gl-canvas" width="1920" height="1080">
			Oops ... your browser doesn't support the HTML5 canvas element
		</canvas>

		<!-- 점수판 -->
		<div id="divpop" style="position:absolute; right:20px; top:20px; overflow:hidden ">
			<table width=220 height=80>	<!-- 점수판 크기 조절 -->
			<tr>
				<td style="height:20; text-align:center; color:white; background-color:#43B919">
				SCORE
				</td>
				<td style="height:20; text-align:center; color:white; background-color:#43B919">
				<p id="score">100</p>
				</td>
			</tr>
			</table>
		</div>

		<script>
			// 점수판
			document.all['divpop'].style.visibility = "visible";

		//----------------------------------------------초기 배경 관련-----------------------------------------------------------		
			// var scene = new THREE.Scene();

			// 단색 배경 설정(scene.background = cubeCamera.renderTarget; 주석처리 필요)
			// scene.background = new THREE.Color('#AC1822');

			// 카메라(수직 시야 각도, 가로세로 종횡비율, 시야거리 시작지점, 시야거리 끝지점)
			// var camera = new THREE.PerspectiveCamera( 50, window.innerWidth/window.innerHeight, 0.1, 50000 );

			// // 렌더러 정의 및 크기 지정, 문서에 추가하기
			// var renderer = new THREE.WebGLRenderer( { 
			// 	antialias: true, 
			// 	preserveDrawingBuffer: true 
			// } );
			// renderer.setSize( window.innerWidth, window.innerHeight ); 
			// document.body.appendChild( renderer.domElement );
			// renderer.shadowMap.enabled = true;
			// renderer.shadowMap.type = THREE.PCFShadowMap;


            // 물체(user)
			// const loader = new THREE.GLTFLoader();
			// loader.load('./lympocyte/scene.gltf', function(gltf){
			// 	cell = gltf.scene.children[0];
			// 	cell.scale.set(1,1,1);
			// 	cell.position.set(0,1.4,0);    // 물체 위치
			// 	scene.add(gltf.scene);
			// 	animate();
			// }, undefined, function (error) {
			// 	console.error(error);
			// });
			

			// 바닥
			// var floor;
			// var loaderT = new THREE.TextureLoader();
			// floor = new THREE.Mesh(
			// 	new THREE.BoxGeometry(100000, 4, 100000)	// 바닥 크기
			// );
			// loaderT.load(
			// 	// CORS 안 뜨는 사진 찾기: https://upload.wikimedia.org/ (색깔 그림 찾으려면 링크에서 "color @@@"라고 검색하기)
				
			// 	// 바닥 설정하려면 아래 링크 중 하나 주석 풀어 쓰기
			// 	// /*파란 체크*/ 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Color_icon_turquoise.jpg/640px-Color_icon_turquoise.jpg',
			// 	// /*회색타일*/ 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Tiles_%40_KL.jpg/640px-Tiles_%40_KL.jpg', 
			// 	// /*쨍한 빨강*/ 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Single_Color_Flag_-_BF0000.svg/640px-Single_Color_Flag_-_BF0000.svg.png',
			// 	// /*핑크 빨강*/ 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Single_Color_Flag_-_8E3145.svg/640px-Single_Color_Flag_-_8E3145.svg.png',
			// 	function ( texture ) {
			// 		floor.material = new THREE.MeshStandardMaterial({map: texture});
			// 		floor.material.map.repeat.x=9500;	// x축으로 반복할 개수
			// 		floor.material.map.repeat.y=9500;	// y축으로 반복할 개수
			// 		floor.material.map.wrapS=THREE.RepeatWrapping;
			// 		floor.material.map.wrapT=THREE.RepeatWrapping;
			// 	}
			// );
			// scene.add(floor);
			// floor.position.set(0, -3, 0);
			// floor.receiveShadow=true;

			
			// 카메라 위치
			// camera.position.set( 25, 5, 3 );
	
			// 카메라 회전
			// var controls = new THREE.OrbitControls (camera, renderer.domElement);
			// controls.enablePan = false;
			// controls.minPolarAngle = Math.PI / -2;
			// controls.maxPolarAngle = Math.PI / 2.1;


			// 전체 조명(참고: https://dev-t-blog.tistory.com/23)
			// /*1*/ var light_base = new THREE.DirectionalLight ( 0xffffff, 10 );	// 특정 방향으로 빛을 비춤(그림자O)
			// // /*2*/ var light_base = new THREE.AmbientLight( 0xffffff ); // 전역으로 빛을 비춤(그림자X)
			// scene.add( light_base );
			
			// 햇빛(바닥에 영향을 줌)
			// var light_sun = new THREE.DirectionalLight ( 0xFF0011, 1 );	// 색깔, 세기
			// scene.add( light_sun );
			// shadowBlur=10;
			// light_sun.castShadow=true;
			// light_sun.shadow.camera.left=-shadowBlur;
			// light_sun.shadow.camera.right=shadowBlur;
			// light_sun.shadow.camera.top=shadowBlur;
			// light_sun.shadow.camera.bottom=-shadowBlur;


            // 하늘
			// var sky = new THREE.Sky();
			// sky.material.uniforms['turbidity'].value=10;	// 흐림 정도
			// sky.material.uniforms['rayleigh'].value=2;
			// sky.material.uniforms['luminance'].value=1;		// 휘도
			// sky.material.uniforms['mieCoefficient'].value=0.005;
			// sky.material.uniforms['mieDirectionalG'].value=0.8;
			// var parameters = {
			// 	distance: 400,
			// 	inclination: 0.1,
			// 	azimuth: 0.25
			// };

			// var cubeCamera = new THREE.CubeCamera( 0.1, 1, 512 );
			
			// 배경으로 하늘을 사용할 때(단색 배경 쓰려면 주석처리 하기)
			// scene.background = cubeCamera.renderTarget;	

			// var theta = Math.PI * ( parameters.inclination - 0.5 );
			// var phi = 2 * Math.PI * ( parameters.azimuth - 0.5 );

			// light_sun.position.x = parameters.distance * Math.cos( phi );
			// light_sun.position.y = parameters.distance * Math.sin( phi ) * Math.sin( theta );
			// light_sun.position.z = parameters.distance * Math.sin( phi ) * Math.cos( theta );

			// sky.material.uniforms['sunPosition'].value = light_sun.position.copy( light_sun.position );

			// cubeCamera.update( renderer, sky );

			// var animate = function () {
			// 	renderer.render( scene, camera );
	   		// 	requestAnimationFrame(animate);
			// };
		
		</script>

	</body>
</html>